<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Login Page</title>
    <script>
      function goToPage2() {
        document.getElementById("loginModal").classList.add("show");
      }

      document.addEventListener("DOMContentLoaded", function () {
        const modal = document.getElementById("loginModal");
        const closeBtn = document.querySelector(".close-btn");

        closeBtn.addEventListener("click", () =>
          modal.classList.remove("show")
        );
        window.addEventListener("click", (e) => {
          if (e.target === modal) modal.classList.remove("show");
        });

        const loginForm = document.getElementById("loginForm");
        loginForm.addEventListener("submit", async (e) => {
          e.preventDefault();
          const data = Object.fromEntries(new FormData(loginForm).entries());

          const res = await fetch("backend/login.php", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data),
          });

          const result = await res.json();
          alert(result.message);
          if (result.success) {
            window.location.href = "main.html";
          }
        });
      });
    </script>
    <style>
      * {
        padding: 0;
        margin: 0;
        outline: none;
        box-sizing: border-box;
        font-family: "Segoe UI", system-ui, -apple-system, "Helvetica Neue",
          Arial, sans-serif;
      }
      a {
        text-decoration: none;
      }

      .header {
        position: sticky;
        top: 0;
        width: 100%;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: flex-end;
        padding: 0 28px;
        z-index: 9999;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.85),
          rgba(255, 255, 255, 0.6)
        );
        backdrop-filter: blur(2px);
      }
      #logo {
        position: absolute;
        left: 24px;
        top: 18px;
        width: 140px;
        height: auto;
        object-fit: contain;
        z-index: 10000;
        cursor: pointer;
      }

      .nav {
        list-style: none;
        display: flex;
        align-items: center;
        gap: 24px;
        height: 100%;
      }
      .nav_text {
        position: relative;
        display: flex;
        align-items: center;
      }
      .nav_text a {
        position: relative;
        display: inline-block;
        padding: 0;
        margin: 0;
        width: 56px;
        height: 56px;
        color: #9feaf9;
        z-index: 0;
      }
      .nav_text a:hover {
        color: #dffaff;
      }

      #signin {
        position: relative;
        z-index: 2;
        width: 50px;
        height: 50px;
        object-fit: cover;
        display: block;
        border: 2px solid transparent;
        transition: all 0.3s ease;
        transform: rotate(0deg) scale(1);
      }
      #signin:hover {
        z-index: 2;
        transition: all 0.3s ease;
        transform: rotate(360deg) scale(1.2);
      }
      #hr {
        background-color: #9feaf9;
        width: 100vw;
        height: 2px;
      }

      #middle {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 48px;
        padding: 64px 32px;
        max-width: 1200px;
        margin: 0 auto;
      }

      .hero-left {
        width: 520px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 18px;
        text-align: left;
      }
      .hero-left h1 {
        font-size: 44px;
        line-height: 1.05;
        color: #293d41;
      }
      .hero-left p {
        font-size: 20px;
        color: #6baab7;
      }
      .register-btn {
        margin-top: 20px;
        position: relative;
        display: inline-block;
        padding: 12px 24px;
        font-size: 20px;
        font-weight: bold;
        color: white;
        background: white;
        border: 2px solid #9feaf9;
        border-radius: 6px;
        cursor: pointer;
        overflow: hidden;
        transition: color 0.4s ease;
        z-index: 1;
      }
      .register-btn::before {
        content: "";
        position: absolute;
        left: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        background-color: #9feaf9;
        z-index: -1;
        transition: transform 0.4s ease;
        transform: translateY(0%);
      }
      .register-btn:hover::before {
        transform: translateY(100%);
      }
      .register-btn:hover {
        color: #9feaf9;
      }
      .register-btn span {
        position: relative;
        z-index: 2;
      }
      .masked-image {
        width: 430px;
        height: 580px;
        position: relative;
        background-image: url("image/point.png"),
          linear-gradient(180deg, #ffffff 0%, #9feaf9 45%, #ffffff 100%);
        background-size: cover;
        background-position: center;
        clip-path: polygon(50% 0, 0% 100%, 100% 100%, 100% 0%);
        box-shadow: 0 12px 34px rgba(8, 40, 40, 0.12);
        flex-shrink: 0;
      }
      h1 {
        text-align: center;
      }
      p {
        text-align: center;
      }
      /* 模態背景 */
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        visibility: hidden;
        opacity: 0;
        transition: opacity 0.4s ease, visibility 0.4s ease;
        z-index: 9999;
      }

      /* 顯示狀態 */
      .modal.show {
        visibility: visible;
        opacity: 1;
      }

      /* 登入框內容：初始在下方並透明 */
      .modal-content {
        background-color: #ffffff;
        padding: 30px;
        border-radius: 12px;
        width: 320px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        text-align: center;
        transform: translateY(100px);
        opacity: 0;
        transition: transform 0.4s ease, opacity 0.4s ease;
      }

      /* 顯示時動畫 */
      .modal.show .modal-content {
        transform: translateY(0);
        opacity: 1;
      }

      /* 關閉按鈕 */
      .close-btn {
        position: absolute;
        top: 12px;
        right: 16px;
        font-size: 24px;
        font-weight: bold;
        color: #293d41;
        cursor: pointer;
      }

      .close-btn:hover {
        color: #333;
      }

      .modal-input {
        width: 90%;
        padding: 10px;
        margin: 10px 0;
        font-size: 16px;
        border: 1px solid #ccc;
        border-radius: 6px;
      }
    </style>
  </head>
  <body>
    <header class="header">
      <img id="logo" src="image/getajob.png" alt="Logo" />

      <ul class="nav">
        <li class="nav_text">
          <a onclick="goToPage2()" aria-label="Sign in">
            <img id="signin" src="image/sginin_b.png" alt="signin" />
          </a>
        </li>
      </ul>
    </header>
    <div id="hr"></div>

    <main id="middle" role="main">
      <div class="hero-left">
        <h1>工作生活的大小事<br />讓專家為您解決吧！</h1>
        <p>找專家或找技術，立刻取得免費報價，開始委託專業服務。</p>
        <button onclick="goToPage2()" id="register-btn" class="register-btn">
          免費取得報價
        </button>
      </div>

      <div class="masked-image" aria-hidden="true"></div>
    </main>

    <div id="loginModal" class="modal">
      <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2>登入 / 註冊</h2>
        <p>請輸入帳號與密碼以登入/註冊</p>
        <form id="loginForm" class="form-section">
          <input
            type="text"
            name="username"
            placeholder="帳號"
            required
            class="modal-input"
          />
          <input
            type="password"
            name="password"
            placeholder="密碼"
            required
            class="modal-input"
          />
          <button type="submit" class="register-btn">登入/註冊</button>
        </form>
      </div>
    </div>
  </body>
</html>
